!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t||self).pegasysHelpers={})}(this,function(t){var n=/*#__PURE__*/function(){function t(){}return t.prototype.createQuestion=function(t,n){return{id:t,description:n}},t}();function e(t,n){try{var e=t()}catch(t){return n(t)}return e&&e.then?e.then(void 0,n):e}var r=/*#__PURE__*/function(){function t(){}var n=t.prototype;return n.getAuthorizationHeader=function(t){try{var n=new Headers;return n.append("Authorization","Bearer "+t),Promise.resolve(n)}catch(t){return Promise.reject(t)}},n.getEntities=function(t,n,r,o){try{var i=new Request(t+"/api/v2/entities?entitySelector=type("+n+"),entityName.contains("+r+")",{method:"GET",headers:o}),u=null,f=e(function(){return Promise.resolve(fetch(i)).then(function(t){var n=t.ok?Promise.resolve(t.json()).then(function(t){u=t}):Promise.resolve(t.text()).then(function(n){console.error("Entity ID Error:",t.status,n)});if(n&&n.then)return n.then(function(){})})},function(t){console.error(t)});return Promise.resolve(f&&f.then?f.then(function(){return u}):u)}catch(t){return Promise.reject(t)}},n.getEntitiesData=function(t,n,r){try{if(null===n)return Promise.resolve([]);var c=[],s=function(t,n){if("function"==typeof t[o]){var e,r,c,s=function(t){try{for(;!(e=a.next()).done;)if((t=n(e.value))&&t.then){if(!f(t))return void t.then(s,c||(c=i.bind(null,r=new u,2)));t=t.v}r?i(r,1,t):r=t}catch(t){i(r||(r=new u),2,t)}},a=t[o]();if(s(),a.return){var h=function(t){try{e.done||a.return()}catch(t){}return t};if(r&&r.then)return r.then(h,function(t){throw h(t)});h()}return r}if(!("length"in t))throw new TypeError("Object is not iterable");for(var l=[],v=0;v<t.length;v++)l.push(t[v]);return function(t,n){var e,r,o=-1;return function c(s){try{for(;++o<t.length;)if((s=n(o))&&s.then){if(!f(s))return void s.then(c,r||(r=i.bind(null,e=new u,2)));s=s.v}e?i(e,1,s):e=s}catch(t){i(e||(e=new u),2,t)}}(),e}(l,function(t){return n(l[t])})}(n.entities,function(n){var o=new Request(t+"/api/v2/entities/"+n.entityId,{method:"GET",headers:r}),i=e(function(){return Promise.resolve(fetch(o)).then(function(t){var n=t.ok?Promise.resolve(t.json()).then(function(t){c.push(t)}):Promise.resolve(t.text()).then(function(n){console.error("Entity Details Error:",t.status,n)});if(n&&n.then)return n.then(function(){})})},function(t){console.error(t)});if(i&&i.then)return i.then(function(){})});return Promise.resolve(s&&s.then?s.then(function(){return c}):c)}catch(t){return Promise.reject(t)}},t}();const o="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function i(t,n,e){if(!t.s){if(e instanceof u){if(!e.s)return void(e.o=i.bind(null,t,n));1&n&&(n=e.s),e=e.v}if(e&&e.then)return void e.then(i.bind(null,t,n),i.bind(null,t,2));t.s=n,t.v=e;var r=t.o;r&&r(t)}}var u=/*#__PURE__*/function(){function t(){}return t.prototype.then=function(n,e){var r=new t,o=this.s;if(o){var u=1&o?n:e;if(u){try{i(r,1,u(this.v))}catch(t){i(r,2,t)}return r}return this}return this.o=function(t){try{var o=t.v;1&t.s?i(r,1,n?n(o):o):e?i(r,1,e(o)):i(r,2,o)}catch(t){i(r,2,t)}},r},t}();function f(t){return t instanceof u&&1&t.s}t.DTFunctions=r,t.QuestionSDK=n});
//# sourceMappingURL=index.umd.js.map
